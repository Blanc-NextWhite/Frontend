<div id="slots">
  <div class="classes-title">
    <h1>Blu</h1>
    <h1>Red</h1>
  </div>
  <div ng-repeat="class in lobbyPage.lobbyInformation.classes track by class.class" class="class-row">
    <md-button flex ng-repeat="(key, slot) in class track by key"
      ng-if="key!='class'"
      aria-label="Join {{key}} {{class.class}}"
      class="slot-button"
      ng-click="lobbyPage.join(lobbyPage.lobbyInformation.id, key, class.class)"
      ng-class="{'md-raised' : !slot.player}">
      <!--  If slot.id set, show flat button with player info
            If it's not set, show raised button -->
      <div flex class="firefox-bug-container" ng-if="slot.player">
        <md-checkbox ng-checked="slot.ready" aria-label="Player ready" ng-if="lobbyPage.inReadyUp"></md-checkbox>
        <div flex class="slot-info">
          <span class="slot-playername">{{slot.player.name}}</span>
          <div class="slot-misc">
            <div><span>XX%</span><span> reliability</span></div>
            <div><span>{{slot.player.lobbiesPlayed}}</span><span> lobbies</span></div>
            <div><span>{{slot.player.gameHours}}</span><span> hr</span></div>
          </div>
        </div>
        <img ng-src="{{slot.player.avatar.replace('.jpg', '_medium.jpg') | trusted}}" class="slot-avatar">
      </div>
    </md-button>
    <div class="class-button lobby-icon-{{class.class}}">
    </div>
  </div>
</div>

<script type="text/ng-template" id="lobbypage-readyup.html.tpl">
  <md-dialog aria-label="Mango (Fruit)">
    <form>
      <md-dialog-content style="width:400px;height:200px; ">
        <div>
          <md-progress-linear md-mode="determinate" value="{{(100/dialog.limit)*dialog.seconds}}"></md-progress-linear>
          <h2 class="text-center">Are you ready?</h2>
          <p>
            Please ready up, if you dont ready up in the next 30 seconds you will be removed from the queue.
          </p>
        </div>
      </md-dialog-content>
      <div class="md-actions" layout="row">
        <md-button class="md-raised md-primary" ng-click="dialog.ready()" >
          Ready!
        </md-button>
        <span flex></span>
        <md-button class="md-raised md-warn" ng-click="dialog.leave()" style="margin-right:20px;" >
          Leave!
        </md-button>
      </div>
    </form>
  </md-dialog>
</script>
