<div id="settings-wrapper" ng-init="settingsList = settings.settingsList">
  <div  class="settings-section"
        ng-repeat="(keyName, settingsGroup) in settingsList">
    <h1>{{keyName | capitalize}}</h1>
    <md-checkbox  ng-repeat="field in settingsGroup track by field.id"
                  ng-model="field.selected"
                  aria-label="{{field}}"
                  ng-change="settings.saveSetting(field.id, field.selected)">
      {{field.name}}
    </md-checkbox>
  </div>
  <div class="settings-section" ng-controller="ThemeController">
    <h1>Theme</h1>
    <md-radio-group ng-controller="ThemeController"
                    ng-model="currentTheme"
                    ng-change="setCurrentTheme(currentTheme)">
      <md-radio-button  ng-value="theme"
                        ng-repeat="theme in themes">
        {{theme.name}}
      </md-radio-button>
    </md-radio-group>
  </div>
</div>